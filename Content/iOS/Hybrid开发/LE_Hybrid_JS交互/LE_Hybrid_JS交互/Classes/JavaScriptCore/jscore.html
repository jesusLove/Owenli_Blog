<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no">
                <meta http-equiv="X-UA-Compatible" content="ie=edge">
                    <title>Hook方式</title>
    </head>
    <body>
        <input type="button" value="调用OC方法" onclick="callOCByURL('elink://scan?title=分享的标题&content=分享的内容&url=链接地址&imagePath=图片地址')">
            <input type="button" value="调用OC方法并传递参数" onclick="callOCByURL('elink://location')">
                
                
                <textarea id="returnValue" type="value" rows="5" cols="50"></textarea>
                
    </body>
    <script>
        
        function callOCByURL(url) {
            
            // 使用iframe发送跨域请求
            let iframe = document.createElement('iframe')
            iframe.setAttribute('src', url)
            document.body.appendChild(iframe)
            iframe.parentNode.removeChild(iframe)
            iframe = null
        }
    function setLocation(item) {
        leAlert(item)
        document.getElementById('returnValue').value = item
    }
    
    function leAlert(res) {
        setTimeout(function () {
                   alert(res)
                   }, 1)
    }
    </script>
</html>
